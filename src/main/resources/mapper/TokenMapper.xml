<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="in.koala.mapper.TokenMapper">
    <insert id="insertDeviceTokenNonUser">
        INSERT INTO device_token(user_id, non_user_id, token) VALUES(#{nonUserId}, #{nonUserId}, #{deviceToken});
    </insert>

    <update id="updateUserId">
        UPDATE device_token SET user_id = #{userId} WHERE token = #{token};
    </update>

    <update id="updateTokenByUserId">
        UPDATE device_token SET token = #{token} WHERE user_id = #{userId};
    </update>

    <update id="updateTokenByNonUserId">
        UPDATE device_token SET token = #{token} WHERE non_user_id = #{nonUserId};
    </update>

</mapper>