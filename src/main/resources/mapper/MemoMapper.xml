<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="in.koala.mapper.MemoMapper">

    <insert id="addMemo" parameterType="in.koala.domain.Memo">
        INSERT INTO memo(user_scrap_id, memo)
        VALUES(#{user_scrap_id}, #{memo})
    </insert>

    <update id="deleteMemo" parameterType="in.koala.domain.Memo">
        UPDATE memo SET is_deleted = 1 WHERE user_scrap_id = #{user_scrap_id} AND is_deleted = 0
    </update>

    <update id="updateMemo" parameterType="in.koala.domain.Memo">
        UPDATE memo SET memo = #{memo} WHERE user_scrap_id = #{user_scrap_id} AND is_deleted = 0
    </update>

    <select id="getMemo" resultType="in.koala.domain.Memo">
        SELECT memo FROM boot_sample.memo WHERE user_scrap_id = #{user_scrap_id} AND is_deleted = 0
    </select>


</mapper>